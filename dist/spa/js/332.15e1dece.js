"use strict";(self["webpackChunkflag_quiz"]=self["webpackChunkflag_quiz"]||[]).push([[332],{3231:(e,a,t)=>{t.d(a,{Z:()=>y});var l=t(284);let c=new l.Z("db");const o=async()=>{let e;try{e=await c.collection("users").get()}catch(a){console.log("error",a)}return e},s=async e=>{let a;try{a=await c.collection("users").doc({user:e}).get()}catch(t){console.log("error",t)}return a},n=async e=>{let a={user:e};await c.collection("users").add(a)},i=async()=>{let e={id:1,name:"country",score:0},a={id:2,name:"capital",score:0},t={id:3,name:"pocket",score:0};await c.collection("scores").add(e),await c.collection("scores").add(a),await c.collection("scores").add(t)},r=async e=>{let a=1;"capital"===e?a=2:"pocket"===e&&(a=3);let t=await c.collection("scores").doc({id:a}).get();return t},u=async(e,a)=>{let t=1;"capital"===e?t=2:"pocket"===e&&(t=3);let l=await c.collection("scores").doc({id:t}).get();await c.collection("scores").doc({id:t}).update({score:l.score+a})},d=async(e,a)=>{let t={id:e,image:a};await c.collection("images").add(t)},g=async e=>{let a;try{a=await c.collection("images").doc({name:e}).get()}catch(t){console.log("error",t)}return a},m=async()=>{let e=await c.collection("images").get();return e},p=async e=>{await c.collection(e).delete()},w={getUser:s,getUserAll:o,setUser:n,initScore:i,getQuizeScore:r,setQuizeScore:u,getImage:g,getImageAll:m,setImage:d,deleteCollection:p},y=w},3332:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Q});var l=t(3673);const c=(0,l.Uk)("설정하기 "),o={class:"q-pa-md"};function s(e,a,t,s,n,i){const r=(0,l.up)("page-header"),u=(0,l.up)("q-btn"),d=(0,l.up)("page-body"),g=(0,l.up)("page");return(0,l.wg)(),(0,l.j4)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{title:(0,l.w5)((()=>[c])),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l._)("div",o,[(0,l.Wm)(u,{color:"black",class:"full-width",label:"이름과 점수 초기화",onClick:a[0]||(a[0]=e=>s.zeroInit())})])])),_:1})])),_:1})}t(5363);var n=t(1959),i=t(3231),r=t(9582);const u={name:"Setting",setup(){const e=(0,r.tv)();let a=(0,n.iH)(null),t=(0,n.iH)(null);const l=(0,n.iH)(),c=(0,n.iH)(),o=(0,n.iH)(),s=(0,n.iH)(),u=async e=>{let t=new FileReader;t.onload=async e=>{a.value=e.target.result,await i.Z.setImage(l.value,a.value),c.value={image:a.value}},t.readAsDataURL(e)},d=async e=>{let a=e.currentTarget.files[0],t=[a];t.map((async e=>{u(e)}))},g=()=>{let e=s.value.files[0],a=[e];a.map((async e=>{u(e)}))},m=()=>{s.value.click()},p=async()=>{await i.Z.deleteCollection("scores"),await i.Z.deleteCollection("users"),e.replace("/Home")};return{mobileImage:t,handleImagesMobile:d,userImage:c,userNm:l,zeroInit:p,images:o,image:s,clickInputTag:m,uploadImage:g}}};var d=t(4260),g=t(8240),m=t(151),p=t(3414),w=t(2035),y=t(5096),I=t(4554),v=t(2350),Z=t(4816),k=t(7518),f=t.n(k);const b=(0,d.Z)(u,[["render",s],["__scopeId","data-v-348d57d0"]]),Q=b;f()(u,"components",{QBtn:g.Z,QCard:m.Z,QItem:p.Z,QItemSection:w.Z,QAvatar:y.Z,QIcon:I.Z,QItemLabel:v.Z,QFile:Z.Z})}}]);