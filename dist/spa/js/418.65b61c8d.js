"use strict";(self["webpackChunkflag_quiz"]=self["webpackChunkflag_quiz"]||[]).push([[418],{3231:(e,t,a)=>{a.d(t,{Z:()=>y});var l=a(284);let o=new l.Z("db");const n=async()=>{let e;try{e=await o.collection("users").get()}catch(t){console.log("error",t)}return e},r=async e=>{let t;try{t=await o.collection("users").doc({user:e}).get()}catch(a){console.log("error",a)}return t},i=async e=>{let t={user:e};await o.collection("users").add(t)},c=async()=>{let e={id:1,name:"country",score:0},t={id:2,name:"capital",score:0},a={id:3,name:"pocket",score:0};await o.collection("scores").add(e),await o.collection("scores").add(t),await o.collection("scores").add(a)},s=async e=>{let t=1;"capital"===e?t=2:"pocket"===e&&(t=3);let a=await o.collection("scores").doc({id:t}).get();return a},d=async(e,t)=>{let a=1;"capital"===e?a=2:"pocket"===e&&(a=3);let l=await o.collection("scores").doc({id:a}).get();await o.collection("scores").doc({id:a}).update({score:l.score+t})},u=async(e,t)=>{let a={id:e,image:t};await o.collection("images").add(a)},p=async e=>{let t;try{t=await o.collection("images").doc({name:e}).get()}catch(a){console.log("error",a)}return t},m=async()=>{let e=await o.collection("images").get();return e},g=async e=>{await o.collection(e).delete()},w={getUser:r,getUserAll:n,setUser:i,initScore:c,getQuizeScore:s,setQuizeScore:d,getImage:p,getImageAll:m,setImage:u,deleteCollection:g},y=w},5798:(e,t,a)=>{a.d(t,{Z:()=>g});var l=a(3673),o=a(2323);function n(e,t,a,n,r,i){return(0,l.wg)(),(0,l.iD)("div",{style:(0,o.j5)(n.style),ref:"lavContainer"},null,4)}var r=a(1959),i=a(4593),c=a.n(i),s=a(52),d=a.n(s);const u={name:"LottieAnimation",props:{path:{required:!0},speed:{type:Number,required:!1,default:1},width:{type:Number,required:!1,default:-1},height:{type:Number,required:!1,default:-1},loop:{type:Boolean,required:!1,default:!0},autoPlay:{type:Boolean,required:!1,default:!0},loopDelayMin:{type:Number,required:!1,default:0},loopDelayMax:{type:Number,required:!1,default:0}},setup(e,t){const a={width:-1!=e.width?`${e.width}px`:"100%",height:-1!=e.height?`${e.height}px`:"100%",overflow:"hidden",margin:"0 auto"};let o,n=(0,r.iH)();const i={scaleMode:"centerCrop",clearCanvas:!0,progressiveLoad:!1,hideOnTransparent:!0};async function s(e){return await d().get("/badges/"+e).then((e=>e.data))}function u(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}function p(){o.play(),setTimeout((()=>{o.stop(),p()}),u(e.loopDelayMin,0==e.loopDelayMax?e.loopDelayMin:e.loopDelayMax))}return(0,l.bv)((async()=>{let a=await s(e.path);o&&o.destroy(),o=c().loadAnimation({container:n.value,renderer:"svg",loop:e.loop,autoplay:e.autoPlay,animationData:a,rendererSettings:i}),t.emit("AnimControl",o),o.setSpeed(e.speed),e.loopDelayMin>0&&(o.loop=!1,o.autoplay=!1,p())})),{anim:o,style:a,lavContainer:n}}};var p=a(4260);const m=(0,p.Z)(u,[["render",n]]),g=m},8418:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var l=a(3673),o=a(2323);const n=(0,l.Uk)("뱃지 모으기 "),r=(0,l.Uk)(" 현재 점수는 "),i={class:"text-h6 text-weight-bold text-orange-3"},c=(0,l.Uk)(" 입니다. 뱃지 "),s={class:"text-h6 text-weight-bold text-orange-3"},d=(0,l.Uk)("개를 얻었습니다. 뱃지는 5점당 하나씩 얻을수 있습니다. "),u={class:"row q-pa-md items-start justify-center q-gutter-md"},p={class:"text-h7 q-mb-xs text-dark text-weight-bold text-center"},m=(0,l.Uk)(" 문제하나당 하나의 포켓몬을 얻을수 있습니다. "),g={class:"row q-pa-md items-start justify-center q-gutter-md"},w={class:"text-h7 q-mb-xs text-dark text-weight-bold text-center"},y=["src"];function b(e,t,a,b,h,f){const x=(0,l.up)("page-header"),v=(0,l.up)("q-tab"),_=(0,l.up)("q-tabs"),q=(0,l.up)("q-banner"),k=(0,l.up)("q-card-section"),Z=(0,l.up)("lottie-animation"),W=(0,l.up)("q-btn"),Q=(0,l.up)("q-card-actions"),C=(0,l.up)("q-card"),M=(0,l.up)("q-tab-panel"),z=(0,l.up)("q-tab-panels"),D=(0,l.up)("page-body"),U=(0,l.up)("page");return(0,l.wg)(),(0,l.j4)(U,null,{default:(0,l.w5)((()=>[(0,l.Wm)(x,null,{title:(0,l.w5)((()=>[n])),_:1}),(0,l.Wm)(D,null,{default:(0,l.w5)((()=>[(0,l.Wm)(_,{modelValue:b.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>b.tab=e),dense:"",class:"bg-purple text-white","active-color":"secondary","indicator-color":"purple",align:"justify"},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{class:"text-subtitle2 text-weight-bold",name:"badge",label:"뱃지"}),(0,l.Wm)(v,{class:"text-subtitle2 text-weight-bold",name:"pocket",label:"포켓몬"})])),_:1},8,["modelValue"]),(0,l.Wm)(z,{modelValue:b.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>b.tab=e),animated:"",class:"bg-primary text-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(M,{name:"badge"},{default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(q,{"inline-actions":"",class:"text-white bg-primary"},{default:(0,l.w5)((()=>[r,(0,l._)("span",i,(0,o.zw)(b.score),1),c,(0,l._)("span",s,(0,o.zw)(b.badgeCnt),1),d])),_:1})]),(0,l._)("div",u,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(b.badges,(e=>((0,l.wg)(),(0,l.j4)(C,{key:e.index,class:"my-card",flat:"",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[(0,l._)("div",p,(0,o.zw)(e.lottie_nm),1)])),_:2},1024),(0,l.Wm)(Z,{path:e.lottie_file,width:148,height:148},null,8,["path"]),(0,l.Wm)(Q,{align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(W,{flat:"",round:"",color:"red",icon:"favorite"}),(0,l.Wm)(W,{flat:"",round:"",color:"teal",icon:"bookmark"})])),_:1})])),_:2},1024)))),128))])])),_:1}),(0,l.Wm)(M,{name:"pocket"},{default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(q,{"inline-actions":"",class:"text-white bg-primary"},{default:(0,l.w5)((()=>[m])),_:1})]),(0,l._)("div",g,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(b.pockets,(e=>((0,l.wg)(),(0,l.j4)(C,{key:e.index,class:"my-card",flat:"",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[(0,l._)("div",w,(0,o.zw)(e.name),1)])),_:2},1024),(0,l._)("img",{src:e.url,style:{width:"148px",height:"148px"}},null,8,y)])),_:2},1024)))),128))])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}var h=a(1959),f=a(3162),x=a(5798),v=a(3231);const _={name:"Badges",components:{LottieAnimation:x.Z},setup(){const e=(0,h.iH)("badge"),t=(0,h.iH)(),a=(0,h.iH)(),o=(0,h.iH)(),n=(0,h.iH)(),r=async()=>{let e=await v.Z.getQuizeScore("country"),l=await v.Z.getQuizeScore("capital"),r=await v.Z.getQuizeScore("pocket");t.value=e.score+l.score,a.value=t.value>155?31:Math.trunc(t.value/5),o.value=f.Z.state.lottie.filter((e=>e.index<=a.value)),n.value=f.Z.state.pockets.filter((e=>e.index<=r.score))};return(0,l.dl)((()=>{r()})),{store:f.Z,score:t,badges:o,badgeCnt:a,pockets:n,tab:e}}};var q=a(4260),k=a(2496),Z=a(8408),W=a(5906),Q=a(6602),C=a(5607),M=a(151),z=a(5589),D=a(9367),U=a(8240),S=a(7518),H=a.n(S);const j=(0,q.Z)(_,[["render",b],["__scopeId","data-v-70c4365c"]]),A=j;H()(_,"components",{QTabs:k.Z,QTab:Z.Z,QTabPanels:W.Z,QTabPanel:Q.Z,QBanner:C.Z,QCard:M.Z,QCardSection:z.Z,QCardActions:D.Z,QBtn:U.Z})}}]);