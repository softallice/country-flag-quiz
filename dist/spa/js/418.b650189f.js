"use strict";(self["webpackChunkflag_quiz"]=self["webpackChunkflag_quiz"]||[]).push([[418],{3231:(e,t,a)=>{a.d(t,{Z:()=>h});var l=a(284);let o=new l.Z("db");const i=async()=>{let e;return e=await o.collection("users").get(),e},n=async e=>{let t;try{t=await o.collection("users").doc({user:e}).get()}catch(a){console.log("error",a)}return t},r=async e=>{let t={user:e};await o.collection("users").add(t)},c=async()=>{let e={id:1,name:"country",score:0},t={id:2,name:"capital",score:0},a={id:3,name:"pocket",score:0},l={id:1,name:"pocket",lv:1};await o.collection("scores").add(e),await o.collection("scores").add(t),await o.collection("scores").add(a),await o.collection("lvs").add(l)},s=async e=>{let t=1;"capital"===e?t=2:"pocket"===e&&(t=3);let a=await o.collection("scores").doc({id:t}).get();return a},d=async e=>{let t=1;"pocket"===e&&(t=1);let a=await o.collection("lvs").doc({id:t}).get();return a},u=async(e,t)=>{let a=1;"capital"===e?a=2:"pocket"===e&&(a=3);let l=await o.collection("scores").doc({id:a}).get();await o.collection("scores").doc({id:a}).update({score:l.score+t})},p=async(e,t)=>{let a=1;"pocket"===e&&(a=1);let l=await o.collection("lvs").doc({id:a}).get();await o.collection("lvs").doc({id:a}).update({lv:l.lv+t})},m=async(e,t)=>{let a={id:e,image:t};await o.collection("images").add(a)},g=async e=>{let t;try{t=await o.collection("images").doc({name:e}).get()}catch(a){console.log("error",a)}return t},w=async()=>{let e=await o.collection("images").get();return e},y=async e=>{await o.collection(e).delete()},b={getUser:n,getUserAll:i,setUser:r,initScore:c,getQuizeScore:s,setQuizelv:p,getQuizeLv:d,setQuizeScore:u,getImage:g,getImageAll:w,setImage:m,deleteCollection:y},h=b},5798:(e,t,a)=>{a.d(t,{Z:()=>g});var l=a(3673),o=a(2323);function i(e,t,a,i,n,r){return(0,l.wg)(),(0,l.iD)("div",{style:(0,o.j5)(i.style),ref:"lavContainer"},null,4)}var n=a(1959),r=a(4593),c=a.n(r),s=a(52),d=a.n(s);const u={name:"LottieAnimation",props:{path:{required:!0},speed:{type:Number,required:!1,default:1},width:{type:Number,required:!1,default:-1},height:{type:Number,required:!1,default:-1},loop:{type:Boolean,required:!1,default:!0},autoPlay:{type:Boolean,required:!1,default:!0},loopDelayMin:{type:Number,required:!1,default:0},loopDelayMax:{type:Number,required:!1,default:0}},setup(e,t){const a={width:-1!=e.width?`${e.width}px`:"100%",height:-1!=e.height?`${e.height}px`:"100%",overflow:"hidden",margin:"0 auto"};let o,i=(0,n.iH)();const r={scaleMode:"centerCrop",clearCanvas:!0,progressiveLoad:!1,hideOnTransparent:!0};async function s(e){return await d().get("/badges/"+e).then((e=>e.data))}function u(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}function p(){o.play(),setTimeout((()=>{o.stop(),p()}),u(e.loopDelayMin,0==e.loopDelayMax?e.loopDelayMin:e.loopDelayMax))}return(0,l.bv)((async()=>{let a=await s(e.path);o&&o.destroy(),o=c().loadAnimation({container:i.value,renderer:"svg",loop:e.loop,autoplay:e.autoPlay,animationData:a,rendererSettings:r}),t.emit("AnimControl",o),o.setSpeed(e.speed),e.loopDelayMin>0&&(o.loop=!1,o.autoplay=!1,p())})),{anim:o,style:a,lavContainer:i}}};var p=a(4260);const m=(0,p.Z)(u,[["render",i]]),g=m},8418:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var l=a(3673),o=a(2323);const i=(0,l.Uk)("뱃지 모으기 "),n=(0,l.Uk)(" 현재 점수는 "),r={class:"text-h6 text-weight-bold text-orange-3"},c=(0,l.Uk)(" 입니다. 뱃지 "),s={class:"text-h6 text-weight-bold text-orange-3"},d=(0,l.Uk)("개를 얻었습니다. 뱃지는 5점당 하나씩 얻을수 있습니다. "),u={class:"row q-pa-md items-start justify-center q-gutter-md"},p={class:"text-h7 q-mb-xs text-dark text-weight-bold text-center"},m=(0,l.Uk)(" 문제하나당 하나의 포켓몬을 얻을수 있습니다. "),g={class:"row q-pa-md items-start justify-center q-gutter-md"},w={class:"text-h7 q-mb-xs text-dark text-weight-bold text-center"},y=["src"];function b(e,t,a,b,h,f){const v=(0,l.up)("page-header"),x=(0,l.up)("q-tab"),_=(0,l.up)("q-tabs"),k=(0,l.up)("q-banner"),q=(0,l.up)("q-card-section"),Z=(0,l.up)("lottie-animation"),Q=(0,l.up)("q-btn"),W=(0,l.up)("q-card-actions"),z=(0,l.up)("q-card"),C=(0,l.up)("q-tab-panel"),M=(0,l.up)("q-tab-panels"),D=(0,l.up)("page-body"),U=(0,l.up)("page");return(0,l.wg)(),(0,l.j4)(U,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v,null,{title:(0,l.w5)((()=>[i])),_:1}),(0,l.Wm)(D,null,{default:(0,l.w5)((()=>[(0,l.Wm)(_,{modelValue:b.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>b.tab=e),dense:"",class:"bg-purple text-white","active-color":"secondary","indicator-color":"purple",align:"justify"},{default:(0,l.w5)((()=>[(0,l.Wm)(x,{class:"text-subtitle2 text-weight-bold",name:"badge",label:"뱃지"}),(0,l.Wm)(x,{class:"text-subtitle2 text-weight-bold",name:"pocket",label:"포켓몬"})])),_:1},8,["modelValue"]),(0,l.Wm)(M,{modelValue:b.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>b.tab=e),animated:"",class:"bg-primary text-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{name:"badge"},{default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(k,{"inline-actions":"",class:"text-white bg-primary"},{default:(0,l.w5)((()=>[n,(0,l._)("span",r,(0,o.zw)(b.score),1),c,(0,l._)("span",s,(0,o.zw)(b.badgeCnt),1),d])),_:1})]),(0,l._)("div",u,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(b.badges,(e=>((0,l.wg)(),(0,l.j4)(z,{key:e.index,class:"my-card",flat:"",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l._)("div",p,(0,o.zw)(e.lottie_nm),1)])),_:2},1024),(0,l.Wm)(Z,{path:e.lottie_file,width:148,height:148},null,8,["path"]),(0,l.Wm)(W,{align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{flat:"",round:"",color:"red",icon:"favorite"}),(0,l.Wm)(Q,{flat:"",round:"",color:"teal",icon:"bookmark"})])),_:1})])),_:2},1024)))),128))])])),_:1}),(0,l.Wm)(C,{name:"pocket"},{default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(k,{"inline-actions":"",class:"text-white bg-primary"},{default:(0,l.w5)((()=>[m])),_:1})]),(0,l._)("div",g,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(b.pockets,(e=>((0,l.wg)(),(0,l.j4)(z,{key:e.index,class:"my-card",flat:"",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l._)("div",w,(0,o.zw)(e.name),1)])),_:2},1024),(0,l._)("img",{src:e.url,style:{width:"148px",height:"148px"}},null,8,y)])),_:2},1024)))),128))])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}var h=a(1959),f=a(3162),v=a(5798),x=a(3231);const _={name:"Badges",components:{LottieAnimation:v.Z},setup(){const e=(0,h.iH)("badge"),t=(0,h.iH)(),a=(0,h.iH)(),o=(0,h.iH)(),i=(0,h.iH)(),n=async()=>{let e=await x.Z.getQuizeScore("country"),l=await x.Z.getQuizeScore("capital"),n=await x.Z.getQuizeScore("pocket");t.value=e.score+l.score,a.value=t.value>155?31:Math.trunc(t.value/5),o.value=f.Z.state.lottie.filter((e=>e.index<=a.value)),i.value=f.Z.state.pockets.filter((e=>e.index<=n.score))};return(0,l.dl)((()=>{n()})),{store:f.Z,score:t,badges:o,badgeCnt:a,pockets:i,tab:e}}};var k=a(4260),q=a(2496),Z=a(8408),Q=a(5906),W=a(6602),z=a(5607),C=a(151),M=a(5589),D=a(9367),U=a(8240),S=a(7518),H=a.n(S);const j=(0,k.Z)(_,[["render",b],["__scopeId","data-v-70c4365c"]]),A=j;H()(_,"components",{QTabs:q.Z,QTab:Z.Z,QTabPanels:Q.Z,QTabPanel:W.Z,QBanner:z.Z,QCard:C.Z,QCardSection:M.Z,QCardActions:D.Z,QBtn:U.Z})}}]);