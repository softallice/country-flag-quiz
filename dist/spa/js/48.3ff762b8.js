"use strict";(self["webpackChunkflag_quiz"]=self["webpackChunkflag_quiz"]||[]).push([[48],{3231:(e,t,a)=>{a.d(t,{Z:()=>I});var l=a(284);let c=new l.Z("db");const o=async()=>{let e;return e=await c.collection("users").get(),e},i=async e=>{let t;try{t=await c.collection("users").doc({user:e}).get()}catch(a){console.log("error",a)}return t},s=async e=>{let t={user:e};await c.collection("users").add(t)},n=async()=>{let e={id:1,name:"country",score:0},t={id:2,name:"capital",score:0},a={id:3,name:"pocket",score:0},l={id:1,name:"pocket",lv:1};await c.collection("scores").add(e),await c.collection("scores").add(t),await c.collection("scores").add(a),await c.collection("lvs").add(l)},r=async e=>{let t=1;"capital"===e?t=2:"pocket"===e&&(t=3);let a=await c.collection("scores").doc({id:t}).get();return a},d=async e=>{let t=1;"pocket"===e&&(t=1);let a=await c.collection("lvs").doc({id:t}).get();return a},u=async(e,t)=>{let a=1;"capital"===e?a=2:"pocket"===e&&(a=3);let l=await c.collection("scores").doc({id:a}).get();await c.collection("scores").doc({id:a}).update({score:l.score+t})},g=async(e,t)=>{let a=1;"pocket"===e&&(a=1);let l=await c.collection("lvs").doc({id:a}).get();await c.collection("lvs").doc({id:a}).update({lv:l.lv+t})},m=async(e,t)=>{let a={id:e,image:t};await c.collection("images").add(a)},p=async e=>{let t;try{t=await c.collection("images").doc({name:e}).get()}catch(a){console.log("error",a)}return t},w=async()=>{let e=await c.collection("images").get();return e},v=async e=>{await c.collection(e).delete()},y={getUser:i,getUserAll:o,setUser:s,initScore:n,getQuizeScore:r,setQuizelv:g,getQuizeLv:d,setQuizeScore:u,getImage:p,getImageAll:w,setImage:m,deleteCollection:v},I=y},8048:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var l=a(3673);const c=(0,l.Uk)("설정하기 "),o={class:"q-pa-md"};function i(e,t,a,i,s,n){const r=(0,l.up)("page-header"),d=(0,l.up)("q-btn"),u=(0,l.up)("page-body"),g=(0,l.up)("page");return(0,l.wg)(),(0,l.j4)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{title:(0,l.w5)((()=>[c])),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l._)("div",o,[(0,l.Wm)(d,{color:"black",class:"full-width",label:"이름과 점수 초기화",onClick:t[0]||(t[0]=e=>i.zeroInit())})])])),_:1})])),_:1})}a(5363);var s=a(1959),n=a(3231),r=a(9582);const d={name:"Setting",setup(){const e=(0,r.tv)();let t=(0,s.iH)(null),a=(0,s.iH)(null);const l=(0,s.iH)(),c=(0,s.iH)(),o=(0,s.iH)(),i=(0,s.iH)(),d=async e=>{let a=new FileReader;a.onload=async e=>{t.value=e.target.result,await n.Z.setImage(l.value,t.value),c.value={image:t.value}},a.readAsDataURL(e)},u=async e=>{let t=e.currentTarget.files[0],a=[t];a.map((async e=>{d(e)}))},g=()=>{let e=i.value.files[0],t=[e];t.map((async e=>{d(e)}))},m=()=>{i.value.click()},p=async()=>{await n.Z.deleteCollection("scores"),await n.Z.deleteCollection("users"),await n.Z.deleteCollection("lvs"),e.replace("/Home")};return{mobileImage:a,handleImagesMobile:u,userImage:c,userNm:l,zeroInit:p,images:o,image:i,clickInputTag:m,uploadImage:g}}};var u=a(4260),g=a(8240),m=a(151),p=a(3414),w=a(2035),v=a(5096),y=a(4554),I=a(2350),k=a(4816),Z=a(7518),f=a.n(Z);const Q=(0,u.Z)(d,[["render",i],["__scopeId","data-v-1cc8dfa5"]]),b=Q;f()(d,"components",{QBtn:g.Z,QCard:m.Z,QItem:p.Z,QItemSection:w.Z,QAvatar:v.Z,QIcon:y.Z,QItemLabel:I.Z,QFile:k.Z})}}]);