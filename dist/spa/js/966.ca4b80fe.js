"use strict";(self["webpackChunkflag_quiz"]=self["webpackChunkflag_quiz"]||[]).push([[966],{3231:(e,t,a)=>{a.d(t,{Z:()=>m});var o=a(284);let r=new o.Z("db");const n=async()=>{let e;try{e=await r.collection("users").get()}catch(t){console.log("error",t)}return e},l=async e=>{let t;try{t=await r.collection("users").doc({user:e}).get()}catch(a){console.log("error",a)}return t},i=async e=>{let t={user:e};await r.collection("users").add(t)},c=async()=>{let e={id:1,name:"country",score:0},t={id:2,name:"capital",score:0};await r.collection("scores").add(e),await r.collection("scores").add(t)},s=async e=>{let t=1;"country"!=e&&(t=2);let a=await r.collection("scores").doc({id:t}).get();return a},d=async(e,t)=>{let a=1;"country"!=e&&(a=2);let o=await r.collection("scores").doc({id:a}).get();await r.collection("scores").doc({id:a}).update({score:o.score+t})},u=async(e,t)=>{let a={id:e,image:t};await r.collection("images").add(a)},p=async e=>{let t;try{t=await r.collection("images").doc({name:e}).get()}catch(a){console.log("error",a)}return t},g=async()=>{let e=await r.collection("images").get();return e},y={getUser:l,getUserAll:n,setUser:i,initScore:c,getQuizeScore:s,setQuizeScore:d,getImage:p,getImageAll:g,setImage:u},m=y},5798:(e,t,a)=>{a.d(t,{Z:()=>y});var o=a(3673),r=a(2323);function n(e,t,a,n,l,i){return(0,o.wg)(),(0,o.iD)("div",{style:(0,r.j5)(n.style),ref:"lavContainer"},null,4)}var l=a(1959),i=a(4593),c=a.n(i),s=a(52),d=a.n(s);const u={name:"LottieAnimation",props:{path:{required:!0},speed:{type:Number,required:!1,default:1},width:{type:Number,required:!1,default:-1},height:{type:Number,required:!1,default:-1},loop:{type:Boolean,required:!1,default:!0},autoPlay:{type:Boolean,required:!1,default:!0},loopDelayMin:{type:Number,required:!1,default:0},loopDelayMax:{type:Number,required:!1,default:0}},setup(e,t){const a={width:-1!=e.width?`${e.width}px`:"100%",height:-1!=e.height?`${e.height}px`:"100%",overflow:"hidden",margin:"0 auto"};let r,n=(0,l.iH)();const i={scaleMode:"centerCrop",clearCanvas:!0,progressiveLoad:!1,hideOnTransparent:!0};async function s(e){return await d().get("/badges/"+e).then((e=>e.data))}function u(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}function p(){r.play(),setTimeout((()=>{r.stop(),p()}),u(e.loopDelayMin,0==e.loopDelayMax?e.loopDelayMin:e.loopDelayMax))}return(0,o.bv)((async()=>{let a=await s(e.path);r&&r.destroy(),r=c().loadAnimation({container:n.value,renderer:"svg",loop:e.loop,autoplay:e.autoPlay,animationData:a,rendererSettings:i}),t.emit("AnimControl",r),r.setSpeed(e.speed),e.loopDelayMin>0&&(r.loop=!1,r.autoplay=!1,p())})),{anim:r,style:a,lavContainer:n}}};var p=a(4260);const g=(0,p.Z)(u,[["render",n]]),y=g},2966:(e,t,a)=>{a.r(t),a.d(t,{default:()=>D});var o=a(3673),r=a(2323);const n=(0,o.Uk)("뱃지 모으기 "),l=(0,o.Uk)(" 현재 점수는 "),i={class:"text-h6 text-weight-bold text-orange-3"},c=(0,o.Uk)(" 입니다. 현재 뱃지는 "),s={class:"text-h6 text-weight-bold text-orange-3"},d=(0,o.Uk)("개 입니다. "),u={class:"row q-pa-md items-start justify-center q-gutter-md"},p={class:"text-h7 q-mb-xs text-dark text-weight-bold text-center"};function g(e,t,a,g,y,m){const w=(0,o.up)("page-header"),h=(0,o.up)("q-banner"),f=(0,o.up)("q-card-section"),v=(0,o.up)("lottie-animation"),b=(0,o.up)("q-btn"),x=(0,o.up)("q-card-actions"),q=(0,o.up)("q-card"),_=(0,o.up)("page-body"),Z=(0,o.up)("page");return(0,o.wg)(),(0,o.j4)(Z,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w,null,{title:(0,o.w5)((()=>[n])),_:1}),(0,o.Wm)(_,null,{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o.Wm)(h,{"inline-actions":"",class:"text-white bg-primary"},{default:(0,o.w5)((()=>[l,(0,o._)("span",i,(0,r.zw)(g.score),1),c,(0,o._)("span",s,(0,r.zw)(g.badgeCnt),1),d])),_:1})]),(0,o._)("div",u,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(g.badges,(e=>((0,o.wg)(),(0,o.j4)(q,{key:e.index,class:"my-card",flat:"",bordered:""},{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o._)("div",p,(0,r.zw)(e.lottie_nm),1)])),_:2},1024),(0,o.Wm)(v,{path:e.lottie_file,width:148,height:148},null,8,["path"]),(0,o.Wm)(x,{align:"right"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{flat:"",round:"",color:"red",icon:"favorite"}),(0,o.Wm)(b,{flat:"",round:"",color:"teal",icon:"bookmark"})])),_:1})])),_:2},1024)))),128))])])),_:1})])),_:1})}var y=a(1959),m=a(3162),w=a(5798),h=a(3231);const f={name:"Badges",components:{LottieAnimation:w.Z},setup(){const e=(0,y.iH)(),t=(0,y.iH)(),a=(0,y.iH)(),r=async()=>{let o=await h.Z.getQuizeScore("country"),r=await h.Z.getQuizeScore("capital");e.value=o.score+r.score,t.value=e.value>155?31:Math.trunc(e.value/5),a.value=m.Z.state.lottie.filter((e=>e.index<=t.value))};return(0,o.dl)((()=>{r()})),{store:m.Z,score:e,badges:a,badgeCnt:t}}};var v=a(4260),b=a(5607),x=a(151),q=a(5589),_=a(9367),Z=a(8240),M=a(7518),k=a.n(M);const C=(0,v.Z)(f,[["render",g],["__scopeId","data-v-baa490aa"]]),D=C;k()(f,"components",{QBanner:b.Z,QCard:x.Z,QCardSection:q.Z,QCardActions:_.Z,QBtn:Z.Z})}}]);